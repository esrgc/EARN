@using ESRGC.DLLR.EARN.Domain.Model;
@model List<Profile>
@{
    ViewBag.Title = "Index";
    ViewBag.Header = "Profile search";
}

@section header {
    <div class="container">
        <div class="page-header">
            <h3>@ViewBag.Header <i class="icon-search"></i></h3>
        </div>
    </div>
}

@section scripts {
    @Scripts.Render("~/bundles/apps/search")
}
@{
    var currentTags = (ViewBag.tags as List<string>) ?? new List<string>();
    
}
<div class="container">
    <div class="row">
        <div class="col-sm-4">
            <div class="panel panel-default">
                <div class="panel-body">
                    <form class="form-horizontal" action="@Url.Action("Index")" method="get">
                        <div class="form-group">
                            <label class="control-label"></label>
                            <div class="col-sm-12">
                                <input id="tagInput" class="form-control" type="text" placeholder="Enter search tag (keyword)" />
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-12">
                                <button type="submit" class="btn btn-primary btn-block">Go</button>
                            </div>
                        </div>
                        @foreach (var i in currentTags) { 
                            <input type="hidden" value="@i" name="tags" />
                        }
                    </form>
                    <hr />
                    <label>Tags</label>
                    <div class="post">
                        <ul class="list-unstyled list-inline tag-list" id="tagList">
                            @if (currentTags != null) {
                                foreach (var i in currentTags) { 
                                <li class="tag">
                                    <div>
                                        <span class="label label-default">
                                            @i
                                            <button class="close" value="@i">&times;</button>
                                        </span>
                                    </div>
                                </li>
                                }
                            }
                        </ul>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <div class="well">
                @foreach (var profile in Model) {
                    Html.RenderPartial("SearchProfilePartial", profile);
                }
            </div>
        </div>
    </div>
</div>
