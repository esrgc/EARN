@using ESRGC.DLLR.EARN.Helpers
@model ESRGC.DLLR.EARN.Domain.Model.Profile

@{
    ViewBag.Title = "Profile";
    ViewBag.Header = "Profile";
}

@section header{
    <div class="container">
        <header class="page-header">
            <h3>@ViewBag.Header <i class="icon-large icon-briefcase"></i></h3>
            @*<ul class="breadcrumb">
                <li><a href="@Url.Action("index", "Home")">Home</a></li>
                <li class="active">@ViewBag.Header</li>
            </ul>*@
        </header>
    </div>
}

<div class="container">
    <!--Profile header-->
    <div class="text-right"><small>Last update @Html.TimeSpan(@Model.LastUpdate)</small></div>
    <div class="row">
        <div class="col-sm-12">
            <div class="well">
                <div class="post">
                    <div class="inline-container profile-area">
                        <div class="profile-picture">
                            @if (Model.PictureID != null) { 
                                <img class="img-thumbnail" src="@Url.Action("ProfilePicture", new { pictureId = Model.PictureID })"/>
                            }
                            else {
                                <img class="img-thumbnail" src="@Url.Content("~/Client/images/empty_profile.gif")"/>
                            }
                        </div>
                        <div class="row profile-container">
                            <div class="col-sm-12">
                                <div class="">
                                    <span class="pull-right"><a href="#"><i class="icon-pencil"></i> Edit</a></span>
                                    <h4>
                                        <span>@Model.Organization.Name</span>

                                        <br />
                                        <small>@Model.UserGroup.Name</small>
                                        -
                                        <small>@Model.Community.Name</small>
                                    </h4>
                                    <ul class="list-inline list-unstyled">
                                        <li><a target="_blank" href="http://@Model.Organization.Website" title="Organization website"><i class="icon-link"></i></a></li>
                                        <li><a target="_blank" href="http://@Model.Organization.FacebookLink" title="Facebook link"><i class="icon-large icon-facebook"></i></a></li>
                                        <li><a target="_blank" href="http://@Model.Organization.TwitterLink" title="Twitter link"><i class="icon-large icon-twitter"></i></a></li>
                                        <li><a target="_blank" href="http://@Model.Organization.LinkedInLink" title="LinkedIn link"><i class="icon-large icon-linkedin"></i></a></li>
                                    </ul>
                                    <p>@Model.Organization.Description</p>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="clear"></div>
                </div>
            </div>
        </div>
    </div>
    <!--Profile detail-->
    <div class="row">
        <div class="col-sm-4">
            <div>
                <div class="window-panel">
                    <div class="window-panel-title">
                        Your tags <i class="icon-tags"></i>
                        <span class="pull-right">
                            <a title="Edit" href="@Url.Action("ManageTag")"><i class="icon-pencil"></i></a>
                        </span>
                    </div>
                    <div class="window-panel-content">
                        <div>
                            <ul class="list-unstyled list-inline tag-list">
                                @foreach (var i in Model.ProfileTags) { 
                                    <li>
                                        <span class="label label-default">
                                            @i.Tag.Name
                                            @*<button type="button" class="close" aria-hidden="true">&times;</button>*@
                                        </span>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div>
                <div class="window-panel">
                    <div class="window-panel-title">
                        Contact <i class="icon-envelope"></i>
                        <span class="pull-right">
                            <a title="Edit" href="#"><i class="icon-pencil"></i></a>
                        </span>
                    </div>
                    <div class="window-panel-content">
                        <address>
                            @Model.Contact.NameTitle
                            <strong>@Model.Contact.FirstName @Model.Contact.Middle @Model.Contact.LastName</strong>
                            @Model.Contact.NameExtension
                            <br />
                            @Model.Contact.StreetAddress
                            <br />
                            @if (Model.Contact.Department != null) {
                                <abbr title="Department">Dept:</abbr>@Model.Contact.Department <br />
                            }
                            @if (Model.Contact.Building != null) {
                                <abbr title="Building">Bld:</abbr>@Model.Contact.Building<br />
                            }
                            @Model.Contact.City, @Model.Contact.State @Model.Contact.Zip<br />
                            <abbr title="Phone">P:</abbr>
                            @Html.DisplayPhoneText(Model.Contact.Phone)<br />
                            <a href="mailto:@Model.Contact.Email">@Model.Contact.Email</a>
                        </address>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-8">
            <ul class="nav nav-tabs">
                <li class="active"><a href="#summary" data-toggle="tab">Summary</a></li>
                <li><a href="#needs" data-toggle="tab">Needs</a></li>
                <li><a href="#contacts" data-toggle="tab">Contacts</a></li>
                <li><a href="#partnership" data-toggle="tab">Parnerships</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="summary">
                    <div class="placeholder">
                        <h4>Narative</h4>
                    </div>
                </div>
                <div class="tab-pane" id="needs">
                    <div class="placeholder">
                        <h4>Needs is coming soon...</h4>
                    </div>
                </div>
                <div class="tab-pane" id="contacts">
                    <div class="placeholder">
                        <div>
                            <h4>Contacts is coming soon...</h4>
                        </div>
                    </div>
                </div>
                <div class="tab-pane" id="partnership">
                    <div class="placeholder">
                        <h4>Partnership is coming soon...</h4>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>
